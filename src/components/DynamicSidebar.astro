---
import { getCollection } from 'astro:content';

const { pathname } = Astro.url;

// 1. Configuración base del sidebar
const sidebars = {
  informacion: {
    label: "Información",
    items: [
           { label: "Contacto", link: "/contacto"},
      { label: "Política de Privacidad", link: "/politica-de-privacidad"},
      { label: "Sobre Nosotros", link: "/sobre-nosotros" },
      { label: "Advertencia", link: "/advertencia"}
    ],
  },
  matematica: {
    label: "Matemática",
    items: [ 
    
        'matematica',
        'matematica/bibliografia',
        // Un grupo anidado de enlaces para constelaciones estacionales.
        {
          label: 'Conceptos principales',
          items: [
            'matematica/conjuntos',
            'matematica/multiplicacionydivision',
            'matematica/sumayresta',
            'matematica/potencias',
            'matematica/radicacion',
            'matematica/numerosirracionales',
            'matematica/numeropi',
            'matematica/numeroe',
            'matematica/numerodeoro',
            'matematica/sumatoria',
            
          ],
        },
      ],
    
  },
  lengua: {
    label: "Lengua",
    items: [],
  },
};
// 3. Determina qué sidebar mostrar
let currentSidebar;

 if (pathname.startsWith('/matematica/')) {
  currentSidebar = 'matematica';
} else if (pathname.startsWith('/lengua/')) {
  currentSidebar = 'lengua';
} else if (pathname.startsWith('/')) {
  currentSidebar = 'informacion';}
---

<!-- 4. Sidebar personalizado -->
<nav class="sidebar-custom">
  {currentSidebar === 'informacion' && (
    <div>
      <h3>Información</h3>
      <ul>
        {sidebars.informacion.map(item => (
          <li><a href={item.link}>{item.label}</a></li>
        ))}
      </ul>
    </div>
  )}
  
  {currentSidebar === 'matematica' && (
    <div>
      <h3>Matemática</h3>
      <ul>
        {sidebars.matematica.map(item => (
          <li><a href={item.link}>{item.label}</a></li>
        ))}
      </ul>
    </div>
  )}
  